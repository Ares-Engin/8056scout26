<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>REBULT Dashboard</h1>

<button class="log-button" onclick="location.href='scout.html'">Scout Match</button>
<button class="log-button" onclick="location.href='matches.html'">View Matches</button>
<button class="log-button" onclick="location.href='account.html'">My Account</button>

<button id="acceptBtn" class="log-button" style="display:none"
        onclick="location.href='accept.html'">
  User Accept
</button>

<button class="log-button" onclick="logout()">Logout</button>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="auth.js"></script>

<script>
auth.onAuthStateChanged(async user => {
  const snap = await db.collection("users").doc(user.uid).get();
  if (snap.data().role === "admin") {
    document.getElementById("acceptBtn").style.display = "block";
  }
});

window.logout = function () {
  auth.signOut().then(() => location.href = "index.html");
};
</script>

</body>
</html>
