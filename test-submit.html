<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Button Test</title>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>

<body>
    <h1>Submit Button Test</h1>

    <div>
        <h2>Test Counter</h2>
        <button type="button" onclick="change('testCounter', -1)">−</button>
        <span id="testCounter">0</span>
        <button type="button" onclick="change('testCounter', 1)">+</button>
    </div>

    <br>

    <input id="teamNumber" type="number" placeholder="Team Number">
    <input id="matchNumber" type="number" placeholder="Match Number">

    <br><br>

    <button onclick="testSubmit()">Test Submit (Check Console)</button>
    <button onclick="checkAuth()">Check Auth Status</button>

    <div id="output" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f5f5f5;">
        <strong>Output:</strong>
        <pre id="outputText">Click buttons to test...</pre>
    </div>

    <script src="auth.js"></script>
    <script src="scout.js"></script>

    <script>
        function log(message) {
            const output = document.getElementById('outputText');
            output.textContent += '\n' + message;
            console.log(message);
        }

        function checkAuth() {
            const user = firebase.auth().currentUser;
            if (user) {
                log('✓ User is logged in: ' + user.email);
            } else {
                log('✗ User is NOT logged in');
            }
        }

        function testSubmit() {
            log('\n--- Testing Submit ---');
            log('Counter value: ' + (counters.testCounter || 'undefined'));
            log('Team Number: ' + document.getElementById('teamNumber').value);
            log('Match Number: ' + document.getElementById('matchNumber').value);

            checkAuth();

            // Try calling submitScout
            try {
                log('Calling submitScout()...');
                submitScout();
            } catch (e) {
                log('ERROR: ' + e.message);
            }
        }

        // Log when page loads
        window.addEventListener('load', function () {
            log('Page loaded');
            log('Firebase initialized: ' + (firebase.apps.length > 0 ? 'YES' : 'NO'));
            checkAuth();
        });
    </script>
</body>

</html>