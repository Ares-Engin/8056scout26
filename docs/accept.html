<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Users - REBULT 2026</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Theme Manager -->
    <script src="js/theme.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body class="bg-slate-950 text-white min-h-screen p-6 md:p-12" x-data="adminApp">

    <div class="max-w-4xl mx-auto">
        <header class="flex items-center gap-6 mb-12">
            <div class="flex items-center gap-3">
                <button @click="$store.theme.toggle()"
                    class="bg-slate-900 hover:bg-slate-800 border border-slate-800 p-2 rounded-xl transition-all flex items-center justify-center">
                    <template x-if="!$store.theme.isLight">
                        <svg class="w-5 h-5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707M12 5a7 7 0 100 14 7 7 0 000-14z">
                            </path>
                        </svg>
                    </template>
                    <template x-if="$store.theme.isLight">
                        <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z">
                            </path>
                        </svg>
                    </template>
                </button>
                <button @click="location.href='dashboard.html'"
                    class="p-2 hover:bg-slate-900 rounded-lg border border-slate-800 transition-colors">
                    <svg class="h-6 w-6 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                        </path>
                    </svg>
                </button>
            </div>
            <h1
                class="text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-indigo-600 uppercase">
                User Approvals</h1>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <template x-for="u in pendingUsers" :key="u.id">
                <div class="bg-slate-900 border border-slate-800 p-6 rounded-3xl shadow-xl flex flex-col h-full">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-purple-600/20 rounded-2xl flex items-center justify-center font-black text-purple-400"
                            x-text="u.name.substring(0,1).toUpperCase()"></div>
                        <span
                            class="bg-indigo-500/10 text-indigo-400 text-[10px] font-black px-2 py-1 rounded-full border border-indigo-500/20">NEW
                            SCOUT</span>
                    </div>

                    <h2 class="text-lg font-bold" x-text="u.name"></h2>
                    <p class="text-slate-400 text-sm mb-6" x-text="u.email"></p>

                    <div class="text-xs space-y-2 mb-8 bg-slate-950 p-4 rounded-xl border border-slate-800">
                        <div class="flex justify-between">
                            <span class="text-slate-500 font-bold uppercase">Team Number</span>
                            <span class="text-white font-black" x-text="u.teamNumber || '—'"></span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-slate-500 font-bold uppercase">Secret Code</span>
                            <span class="text-white font-black" x-text="u.secretCode || '—'"></span>
                        </div>
                    </div>

                    <div class="mt-auto space-y-2">
                        <button @click="setRole(u.id, 'normal')"
                            class="w-full bg-slate-800 hover:bg-slate-700 py-3 rounded-xl font-bold text-sm transition-all uppercase tracking-widest text-white">Approve
                            (Normal)</button>
                        <button @click="setRole(u.id, 'admin')"
                            class="w-full bg-purple-600/10 hover:bg-purple-600/20 border border-purple-500/20 py-3 rounded-xl font-bold text-sm text-purple-400 transition-all uppercase tracking-widest">Approve
                            (Admin)</button>
                    </div>
                </div>
            </template>

            <template x-if="pendingUsers.length === 0">
                <div
                    class="col-span-full py-20 bg-slate-900/10 border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center opacity-50">
                    <div class="w-16 h-16 bg-slate-800/50 rounded-2xl flex items-center justify-center mb-4">
                        <svg class="h-8 w-8 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 4.354l1.1-.301 2.4 11.1-1.1.301-2.4-11.1zm-4 4.354l1.1-.301 2.4 11.1-1.1.301-2.4-11.1zm8 0l1.1-.301 2.4 11.1-1.1.301-2.4-11.1z">
                            </path>
                        </svg>
                    </div>
                    <p class="font-bold text-slate-600 uppercase tracking-widest">No pending approvals</p>
                </div>
            </template>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/admin-app.js"></script>

</body>

</html>